
  <div class="deckBox col-md-12">
    <div class="deckCard" ng-controller='deckCardCtrl' ng-class="{true: 'clozed', false: 'unclozed'}[clozed]">
      <div>
        <div class="btn-toolbar pHover pull-right" ng-show="isOwner" ng-class="{pHover: !editView}">
          <div class="btn-group">
            <a href="" class="btn btn-link btn-sm" ng-click="editCard = !editCard;deck.$save()"><i class="glyphicon" ng-class="{ false: 'glyphicon-pencil', true: 'glyphicon-save'}[editCard]"></i> </a>
          </div>
        </div>
        <h2 ng-if="!editCard" class="card clozed" ng-class="{true: 'clozed', false: 'unclozed'}[clozed]" >
          <span ng-bind-html="deck.name | formatCard">
        </h2>
        <textarea placeholder="" ng-model="deck.name" ng-if="editCard"></textarea>
        <div class="row"><button class="btn btn-link" ng-click="clozed = !clozed" ng-show="isClozed(deck.name)"><i class="flip glyphicon glyphicon-refresh"></i> </button></div>
      </div>
      <div class="progress" tooltip="Due {{deck.due | dateDays }}" tooltip-placement="bottom">
        <div class="progress-bar" role="progressbar" style="width: 100%;" ng-class="{ 0: 'progress-bar-danger', 1: 'progress-bar-warning', 2: 'progress-bar-success' }[status]">
          <span class="sr-only">Due {{deck.due | dateDays }}</span>
        </div>
      </div>
    </div>

  </div>

  <div class="deckBox" ng-class="{true: 'col-md-12', false: 'col-md-4'}[listView]" ng-repeat="(id,child) in children" data-drop="true" jqyoui-droppable="{index: {{$index}}, onDrop:'drop(child,id)'}" ng-model="children">
    <div class="deckCard clozed" ng-controller='deckCardCtrl' ng-class="{true: 'clozed', false: 'unclozed'}[clozed]" data-drag="true" jqyoui-draggable="{index: {{$index}},animate:true}" data-jqyoui-options="{revert: 'invalid'}" ng-model="children">
      <div class="btn-toolbar pHover pull-right" ng-if="isOwner" ng-class="{pHover: !editView}">
        <div class="btn-group">
          <a href="" class="btn btn-link btn-sm" ng-click="removeDeck(id)"><i class="glyphicon glyphicon-trash"></i> </a>
          <a href="" class="btn btn-link btn-sm" ng-click="edit(id)"><i class="glyphicon" ng-class="{ false: 'glyphicon-pencil', true: 'glyphicon-save'}[editCard]"></i> </a>
        </div>
      </div>
      <h2 ng-if="!editCard" class="card clozed" ng-class="{true: 'clozed', false: 'unclozed'}[clozed]">
        <a href="#/{{username}}/{{id}}" ng-bind-html="child.name | formatCard"></a>
      </h2>
      <textarea placeholder="" ng-model="child.name" ng-if="editCard"></textarea>
      <div class="row"><button class="btn btn-link" ng-click="clozed = !clozed" ng-show="isClozed(child.name)"><i class="flip glyphicon glyphicon-refresh"></i> </button></div>

      <div class="progress" tooltip="Due {{child.due | dateDays }}" tooltip-placement="bottom">
        <div class="progress-bar" role="progressbar" style="width: 100%;" ng-class="{ 0: 'progress-bar-danger', 1: 'progress-bar-warning', 2: 'progress-bar-success' }[status]">
          <span class="sr-only">Due {{child.due | dateDays }}</span>
        </div>
      </div>

    </div>
  </div>

  <div ng-class="{true: 'col-md-12 listview', false: 'col-md-4 listview'}[listView]" ng-if="editView && isOwner">
    <div class="deckCard newCard clozed" >
      <textarea placeholder="" ng-model="newdeck.name"></textarea>
      <br /><button class="btn btn-link" ng-click="addDeck(newdeck)" tooltip="Add" ng-disabled="!newdeck.name">
        <i class="glyphicon glyphicon-plus"></i>
      </button>
    </div>
  </div>


