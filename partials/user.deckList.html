<div class="deckBox col-md-12" ng-if="deckId != 'root'"><div class="deckCard" ng-controller="deckCardCtrl"><h2 ng-if="!editCard" class="deck" ng-class="{clozed: clozed}"><span ng-bind-html="deck.name | formatCard"></span></h2><div class="row"><button class="btn btn-primary" ng-click="clozed = !clozed">Flip</button></div></div></div><div class="deckBox" ng-class="{true: 'col-md-12', false: 'col-md-4'}[listView]" ng-repeat="(id,child) in children"><div class="deckCard" ng-controller="deckCardCtrl"><div class="btn-toolbar pHover pull-right" ng-show="isOwner"><div class="btn-group"><a href="" class="btn btn-link btn-sm" ng-click="removeDeck(id)"><i class="glyphicon glyphicon-trash"></i></a> <a href="" class="btn btn-link btn-sm" ng-click="editCard = !editCard"><i class="glyphicon" ng-class="{ false: 'glyphicon-pencil', true: 'glyphicon-save'}[editCard]"></i></a></div></div><h2 ng-if="!editCard" class="deck" ng-class="{clozed: clozed}"><a href="#/{{username}}/{{id}}" ng-bind-html="deck.children[id] | formatCard"></a></h2><textarea placeholder="" ng-model="deck.children[id]" ng-if="editCard"></textarea><div class="row"><button class="btn btn-primary" ng-click="clozed = !clozed">Flip</button></div><!-- div class="row" ng-cloak>
        <div class="col-md-12 text-center">
          <a class="col-md-3 btn btn-link" ng-model="filter" btn-radio="2"><b>{{(deck.cards | statusFilter:2).length}}</b> done</a>
          <a class="col-md-3 btn btn-link" ng-model="filter" btn-radio="1"><b>{{(deck.cards | statusFilter:1).length}}</b> due</a>
          <a class="col-md-3 btn btn-link" ng-model="filter" btn-radio="0"><b>{{(deck.cards | statusFilter:0).length}}</b> new</a>
          <a class="col-md-3 btn btn-link" ng-model="filter" btn-radio="-1"><b>{{deck.cards.length}}</b> total</a>
        </div>
      </div>
      <div class="progress">
        <div class="progress-bar progress-bar-success" role="progressbar" style="width: {{((deck.cards | statusFilter:2).length)/(deck.cards.length)*100}}%;" tooltip="{{(deck.cards | statusFilter:2).length}} done">
          <span class="sr-only">{{(deck.cards | statusFilter:2).length}} done</span>
        </div>
        <div class="progress-bar progress-bar-danger" role="progressbar" style="width: {{((deck.cards | statusFilter:1).length)/(deck.cards.length)*100}}%;" tooltip="{{(deck.cards | statusFilter:1).length}} due">
          <span class="sr-only">{{(deck.cards | statusFilter:1).length}} due</span>
        </div>
        <div class="progress-bar progress-bar-info" role="progressbar" style="width: {{((deck.cards | statusFilter:0).length)/(deck.cards.length)*100}}%;" tooltip="{{(deck.cards | statusFilter:0).length}} new">
          <span class="sr-only">{{(deck.cards | statusFilter:0).length}} new</span>
        </div>
      </div --></div></div><div ng-class="{true: 'col-md-12 listview', false: 'col-md-4 listview'}[listView]"><div class="deckCard newCard" ng-show="isOwner"><textarea placeholder="" ng-model="newdeck.name"></textarea><br><button class="btn btn-primary" ng-click="addDeck(newdeck)" tooltip="Add" ng-disabled="!newdeck.name">Add</button></div></div>